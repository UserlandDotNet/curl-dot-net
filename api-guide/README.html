<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>&#128216; CurlDotNet API Guide | CurlDotNet - Pure .NET curl for C# </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="&#128216; CurlDotNet API Guide | CurlDotNet - Pure .NET curl for C# ">
      
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/jacob-mellor/curl-dot-net/blob/master/docs/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="CurlDotNet">
            CurlDotNet
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="-curldotnet-api-guide">üìò CurlDotNet API Guide</h1>

<p>Complete reference guide with examples for every feature of CurlDotNet.</p>
<h2 id="-the-three-apis">üéØ The Three APIs</h2>
<p>CurlDotNet offers three different ways to make HTTP requests:</p>
<h3 id="1-curl-string-api-simplest">1. Curl String API (Simplest)</h3>
<pre><code class="lang-csharp">var result = await Curl.ExecuteAsync(&quot;curl https://api.example.com&quot;);
</code></pre>
<p><strong>Best for</strong>: Copy-pasting curl commands, quick scripts, prototyping</p>
<h3 id="2-curlrequestbuilder-api-type-safe">2. CurlRequestBuilder API (Type-Safe)</h3>
<pre><code class="lang-csharp">var result = await new CurlRequestBuilder()
    .WithUrl(&quot;https://api.example.com&quot;)
    .WithBearerToken(&quot;token123&quot;)
    .ExecuteAsync();
</code></pre>
<p><strong>Best for</strong>: Building requests programmatically, compile-time safety</p>
<h3 id="3-libcurl-api-reusable">3. LibCurl API (Reusable)</h3>
<pre><code class="lang-csharp">var curl = new LibCurl()
    .WithBearerToken(&quot;token123&quot;);

var result = await curl.GetAsync(&quot;https://api.example.com&quot;);
</code></pre>
<p><strong>Best for</strong>: Reusable clients, dependency injection, shared configuration</p>
<h2 id="-complete-api-reference">üìö Complete API Reference</h2>
<h3 id="core-classes">Core Classes</h3>
<h4 id="curl-class">Curl Class</h4>
<p>The main entry point for executing curl commands</p>
<ul>
<li><code>ExecuteAsync()</code> - Execute any curl command</li>
<li><code>Get()</code> - Quick GET request</li>
<li><code>Post()</code> - Quick POST request</li>
<li><code>Download()</code> - Download files</li>
<li><code>Upload()</code> - Upload files</li>
<li><code>ExecuteMany()</code> - Parallel execution</li>
</ul>
<h4 id="curlresult-class">CurlResult Class</h4>
<p>The response object returned from all requests</p>
<ul>
<li><strong>Properties</strong>: <code>Body</code>, <code>StatusCode</code>, <code>Headers</code>, <code>IsSuccess</code></li>
<li><strong>JSON Operations</strong>: <code>ParseJson&lt;T&gt;()</code>, <code>AsJson&lt;T&gt;()</code>, <code>AsJsonDynamic()</code></li>
<li><strong>Validation</strong>: <code>EnsureSuccess()</code>, <code>EnsureStatus()</code></li>
</ul>
<h4 id="curlrequestbuilder-class">CurlRequestBuilder Class</h4>
<p>Fluent API for building requests</p>
<ul>
<li><strong>HTTP Methods</strong>: <code>Get()</code>, <code>Post()</code>, <code>Put()</code>, <code>Delete()</code></li>
<li><strong>Headers</strong>: <code>WithHeader()</code>, <code>WithHeaders()</code></li>
<li><strong>Body</strong>: <code>WithData()</code>, <code>WithJson()</code>, <code>WithFormData()</code></li>
<li><strong>Auth</strong>: <code>WithBasicAuth()</code>, <code>WithBearerToken()</code></li>
<li><strong>Options</strong>: <code>WithTimeout()</code>, <code>WithFollowRedirects()</code></li>
</ul>
<h4 id="libcurl-class">LibCurl Class</h4>
<p>Stateful client for reusable configuration</p>
<ul>
<li><strong>HTTP Verbs</strong>: <code>GetAsync()</code>, <code>PostAsync()</code>, <code>PutAsync()</code></li>
<li><strong>Configuration</strong>: <code>WithHeader()</code>, <code>WithTimeout()</code>, <code>WithProxy()</code></li>
<li><strong>Reusability</strong>: Building client classes</li>
</ul>
<h3 id="exception-classes">Exception Classes</h3>
<p>All CurlDotNet exceptions inherit from <code>CurlException</code>. See <a href="../troubleshooting/README.html">Troubleshooting</a> for details.</p>
<p>Common exceptions:</p>
<ul>
<li><code>CurlHttpException</code> - HTTP errors (4xx, 5xx)</li>
<li><code>CurlTimeoutException</code> - Request timeout</li>
<li><code>CurlConnectionException</code> - Connection failures</li>
<li><code>CurlSslException</code> - SSL/TLS errors</li>
<li><code>CurlAuthenticationException</code> - Auth failures</li>
</ul>
<h2 id="-quick-examples">üöÄ Quick Examples</h2>
<h3 id="basic-get-request">Basic GET Request</h3>
<pre><code class="lang-csharp">// String API
var result = await Curl.ExecuteAsync(&quot;curl https://api.github.com&quot;);

// Builder API
var result = await new CurlRequestBuilder()
    .WithUrl(&quot;https://api.github.com&quot;)
    .ExecuteAsync();

// LibCurl API
using var curl = new LibCurl();
var result = await curl.GetAsync(&quot;https://api.github.com&quot;);
</code></pre>
<h3 id="post-with-json">POST with JSON</h3>
<pre><code class="lang-csharp">// String API
var result = await Curl.ExecuteAsync(@&quot;
    curl -X POST https://api.example.com/users \
    -H 'Content-Type: application/json' \
    -d '{&quot;&quot;name&quot;&quot;: &quot;&quot;John&quot;&quot;, &quot;&quot;email&quot;&quot;: &quot;&quot;john@example.com&quot;&quot;}'
&quot;);

// Builder API
var result = await new CurlRequestBuilder()
    .WithUrl(&quot;https://api.example.com/users&quot;)
    .WithMethod(HttpMethod.Post)
    .WithJson(new { name = &quot;John&quot;, email = &quot;john@example.com&quot; })
    .ExecuteAsync();

// LibCurl API
using var curl = new LibCurl();
var result = await curl.PostAsync(
    &quot;https://api.example.com/users&quot;,
    new { name = &quot;John&quot;, email = &quot;john@example.com&quot; }
);
</code></pre>
<h3 id="with-authentication">With Authentication</h3>
<pre><code class="lang-csharp">// String API
var result = await Curl.ExecuteAsync(@&quot;
    curl https://api.example.com \
    -H 'Authorization: Bearer token123'
&quot;);

// Builder API
var result = await new CurlRequestBuilder()
    .WithUrl(&quot;https://api.example.com&quot;)
    .WithBearerToken(&quot;token123&quot;)
    .ExecuteAsync();

// LibCurl API
using var curl = new LibCurl()
    .WithBearerToken(&quot;token123&quot;);
var result = await curl.GetAsync(&quot;https://api.example.com&quot;);
</code></pre>
<h3 id="error-handling">Error Handling</h3>
<pre><code class="lang-csharp">try
{
    var result = await Curl.ExecuteAsync(&quot;curl https://api.example.com&quot;);
    result.EnsureSuccess();  // Throws if not 2xx

    var data = result.ParseJson&lt;MyData&gt;();
}
catch (CurlHttpException ex)
{
    Console.WriteLine($&quot;HTTP error {ex.StatusCode}: {ex.Message}&quot;);
}
catch (CurlTimeoutException ex)
{
    Console.WriteLine($&quot;Request timed out: {ex.Message}&quot;);
}
catch (CurlException ex)
{
    Console.WriteLine($&quot;Curl error: {ex.Message}&quot;);
}
</code></pre>
<h2 id="-which-api-should-you-use">üéØ Which API Should You Use?</h2>
<h3 id="use-string-api-when">Use String API When:</h3>
<ul>
<li>‚úÖ You have existing curl commands</li>
<li>‚úÖ You're prototyping or testing</li>
<li>‚úÖ You're migrating from shell scripts</li>
<li>‚úÖ You need maximum curl compatibility</li>
</ul>
<h3 id="use-builder-api-when">Use Builder API When:</h3>
<ul>
<li>‚úÖ You're building requests programmatically</li>
<li>‚úÖ You want compile-time safety</li>
<li>‚úÖ You need IntelliSense support</li>
<li>‚úÖ You're building dynamic requests</li>
</ul>
<h3 id="use-libcurl-api-when">Use LibCurl API When:</h3>
<ul>
<li>‚úÖ You need a reusable client</li>
<li>‚úÖ You're using dependency injection</li>
<li>‚úÖ You have shared configuration</li>
<li>‚úÖ You're building service classes</li>
</ul>
<h2 id="-feature-comparison">üìä Feature Comparison</h2>
<table>
<thead>
<tr>
<th>Feature</th>
<th>String API</th>
<th>Builder API</th>
<th>LibCurl API</th>
</tr>
</thead>
<tbody>
<tr>
<td>Copy-paste curl</td>
<td>‚úÖ Perfect</td>
<td>‚ùå Must convert</td>
<td>‚ùå Must convert</td>
</tr>
<tr>
<td>Type safety</td>
<td>‚ùå Runtime</td>
<td>‚úÖ Compile-time</td>
<td>‚úÖ Compile-time</td>
</tr>
<tr>
<td>IntelliSense</td>
<td>‚ùå No</td>
<td>‚úÖ Full</td>
<td>‚úÖ Full</td>
</tr>
<tr>
<td>Reusable config</td>
<td>‚ùå No</td>
<td>‚ùå No</td>
<td>‚úÖ Yes</td>
</tr>
<tr>
<td>DI-friendly</td>
<td>‚ö†Ô∏è Static</td>
<td>‚ö†Ô∏è Per-request</td>
<td>‚úÖ Injectable</td>
</tr>
<tr>
<td>Learning curve</td>
<td>üü¢ Easy</td>
<td>üü° Medium</td>
<td>üü° Medium</td>
</tr>
</tbody>
</table>
<h2 id="-advanced-features">üîß Advanced Features</h2>
<h3 id="parallel-requests">Parallel Requests</h3>
<pre><code class="lang-csharp">var results = await Curl.ExecuteMany(
    &quot;curl https://api1.example.com&quot;,
    &quot;curl https://api2.example.com&quot;,
    &quot;curl https://api3.example.com&quot;
);
</code></pre>
<h3 id="custom-http-clients">Custom HTTP Clients</h3>
<pre><code class="lang-csharp">var httpClient = new HttpClient();
var result = await Curl.ExecuteAsync(
    &quot;curl https://api.example.com&quot;,
    httpClient
);
</code></pre>
<h2 id="-learning-path">üìö Learning Path</h2>
<ol>
<li><strong>Beginners</strong>: Start with the Curl String API examples above</li>
<li><strong>Type Safety</strong>: Move to CurlRequestBuilder API</li>
<li><strong>Reusability</strong>: Graduate to LibCurl API</li>
<li><strong>Advanced</strong>: Explore parallel requests and custom HTTP clients</li>
</ol>
<h2 id="-related-documentation">üîó Related Documentation</h2>
<ul>
<li><a href="../tutorials/README.html">Tutorials</a> - Learn the basics</li>
<li><a href="../cookbook/README.html">Cookbook</a> - Ready-to-use recipes</li>
<li><a href="../troubleshooting/README.html">Troubleshooting</a> - Fix common issues</li>
</ul>
<hr>
<p><strong>Ready to dive in?</strong> Check out the examples above to get started!</p>
<p><em>All APIs support the same 300+ curl options and work on .NET Framework 4.7.2+, .NET Core 2.0+, and .NET 5-10</em></p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/jacob-mellor/curl-dot-net/blob/master/docs/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Copyright ¬© 2024 CurlDotNet | <a href='https://www.nuget.org/packages/CurlDotNet/'>NuGet</a> | <a href='https://github.com/jacob-mellor/curl-dot-net'>GitHub</a>
        </div>
      </div>
    </footer>
  </body>
</html>
